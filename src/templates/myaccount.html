<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html" , lang="en">
    <head>
        <meta charset="UTF-8">
        <title>My account</title>
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/myaccount.css') }}">
    </head>
    <body>
        <script>
    var match_password = function () {
        if (document.getElementById('password').value == document.getElementById('confirm').value) {
            document.getElementById('message').style.color = 'green';
            document.getElementById('message').innerHTML = 'matching';
            document.getElementById('submit').disabled = false;
        } else {
            document.getElementById('message').style.color = 'red';
            document.getElementById('message').innerHTML = 'not matching';
            document.getElementById('submit').disabled = true;
        }
    }

        </script>
        <div class="form_box">
            <form method="post"
                  class="font form"
                  action="{{ url_for('MyAccount.add_new_user') }}">
                <div class="title">Create your account</div>
                <div class="line">
                    <input type="text" id="fname" name="fname" placeholder="First name" pattern="[A-Za-z]+" required>
                    <br>
                    <input type="text" id="lname" name="lname" placeholder="Last name" pattern="[A-Za-z]+" required>
                    <br>
                </div>
                <div class="line">
                    <input type="email" id="email" name="email" placeholder="Email address" pattern="^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$" required>
                    <br>
                    <br>
                </div>
                <div class="line">
                    <input type="password" id="password" name="password" placeholder="Password" onkeyup='match_password();' pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8, 16}" required>
                    <br>
                    <input type="password" id="confirm" name="confirm" placeholder="Confirm password" onkeyup='match_password();' pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8, 16}" required>
                    <br>
                    <span id='message'></span>
                </div>
                <div style="display: flex; flex-direction: column; color: red">
                    <input id="submit" type="submit" value="Submit">
                    {% if email_used %}Email used by another user{% endif %}
                </div>
            </form>
        </div>
    </body>
</html>
